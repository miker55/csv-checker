<button type="@Type" @onclick="OnClick" disabled="@Disabled" class="@GetButtonClasses()">
    @if (IconContent is not null)
    {
        @IconContent
    }
    @ChildContent
</button>

@code {
    [Parameter]
    public string Type { get; set; } = "button";

    [Parameter]
    public string Variant { get; set; } = "default";

    [Parameter]
    public bool Disabled { get; set; }

    [Parameter]
    public EventCallback<Microsoft.AspNetCore.Components.Web.MouseEventArgs> OnClick { get; set; }

    [Parameter]
    public RenderFragment? IconContent { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; } = default!;

    [Parameter]
    public string? AdditionalClasses { get; set; }

    private string GetButtonClasses()
    {
        var baseClasses = "inline-flex items-center justify-center gap-2 px-5 py-3 rounded-xl font-semibold transition-all active:scale-95";
        
        var variantClasses = Variant.ToLowerInvariant() switch
        {
            "primary" => "bg-teal-600 text-white shadow-lg shadow-teal-600/20 hover:bg-teal-700",
            "secondary" => "bg-slate-900 text-white shadow-lg shadow-slate-900/20 hover:bg-slate-800",
            _ => "bg-white border border-slate-200 text-slate-700 hover:border-teal-300 hover:text-teal-700"
        };

        var disabledClasses = Disabled ? "opacity-50 cursor-not-allowed" : "";

        var classes = $"{baseClasses} {variantClasses} {disabledClasses}";
        
        if (!string.IsNullOrWhiteSpace(AdditionalClasses))
        {
            classes = $"{classes} {AdditionalClasses}";
        }

        return classes.Trim();
    }
}

